# ğŸ“° é“æ³•æ—¶äº‹æŠ¥å‘Šç³»ç»Ÿ

è‡ªåŠ¨é‡‡é›†ä¸­å›½æ–°é—»ç½‘æ—¶æ”¿æ–°é—»ï¼Œæ™ºèƒ½åŒ¹é…é“æ³•è¯¾æœ¬çŸ¥è¯†ç‚¹ï¼Œç”Ÿæˆä¹å®«æ ¼å±•ç¤ºã€‚

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Next.js å‰ç«¯                     â”‚
â”‚    ä¹å®«æ ¼æ—¥æœŸé€‰æ‹© + æ–°é—»è¯¦æƒ…å¡ç‰‡å±•å¼€            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ APIè°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Flask API (ç«¯å£5001)              â”‚
â”‚  /api/dates  Â·  /api/news?date=YYYY-MM-DD    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SQLite æ•°æ®åº“                     â”‚
â”‚    news_articles + textbook_chapters          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# Pythonä¾èµ–
pip3 install flask requests beautifulsoup4

# Nodeä¾èµ–
npm install
```

### 2. å¯åŠ¨APIæœåŠ¡å™¨

```bash
cd dailynews
PORT=5001 python3 api/server.py
```

### 3. å¯åŠ¨å‰ç«¯

```bash
npm run dev
```

è®¿é—® http://localhost:3000

## æ–°é—»é‡‡é›†

```bash
# é‡‡é›†æ—¶æ”¿é¢‘é“
python3 scripts/collect/chinanews_fetcher.py "https://www.chinanews.com.cn/china/"

# é‡‡é›†ç¤¾ä¼šé¢‘é“
python3 scripts/collect/chinanews_fetcher.py "https://www.chinanews.com.cn/society/"
```

## APIæ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/dates` | GET | è·å–æœ‰æŠ¥å‘Šçš„æ—¥æœŸåˆ—è¡¨ |
| `/api/news?date=YYYY-MM-DD` | GET | è·å–æŒ‡å®šæ—¥æœŸçš„æ–°é—» |
| `/api/stats` | GET | è·å–ç»Ÿè®¡ä¿¡æ¯ |
| `/api/crawl` | POST | è§¦å‘æ–°é—»é‡‡é›† |

## æ•°æ®åº“ç»“æ„

### news_articles è¡¨
- id, title, url, source
- publish_date, content, summary
- category, channel
- key_points (JSON), ai_summary
- created_at, updated_at

### textbook_chapters è¡¨
- id, book_name, chapter_title
- content, content_summary
- keywords, metadata

## è¯¾æœ¬åŒ¹é…è§„åˆ™

| æ–°é—»ç±»å‹ | åŒ¹é…ç« èŠ‚ |
|---------|----------|
| èˆªå¤©/æœˆçƒ | ä¹å¹´çº§ä¸Šå†Œã€Šåˆ›æ–°é©±åŠ¨å‘å±•ã€‹ |
| ä¸¤å²¸/å°ç‹¬ | ä¹å¹´çº§ä¸Šå†Œã€Šä¸­åä¸€å®¶äº²ã€‹ |
| æ•™è‚²/ç°ä»£åŒ– | ä¹å¹´çº§ä¸Šå†Œã€Šè¸ä¸Šå¼ºå›½ä¹‹è·¯ã€‹ |
| è¿çºª/è¿æ³• | æ³•æ²»ç›¸å…³ç« èŠ‚ |

## è¾“å‡ºæ¨¡æ¿

```
1. æ ‡é¢˜ åˆ†ç±» æ¥æº Â· å‘å¸ƒæ—¶é—´
å†…å®¹æ‘˜è¦...

ğŸ“Œ å…³é”®è¦ç‚¹
- æ¶‰åŠäººç‰©ï¼šXXX
- æ¶‰åŠæœºæ„ï¼šXXX

ğŸ¤– AIåˆ†æ
ã€æ–°é—»ç»¼è¿°ã€‘
...
ã€æ ¸å¿ƒè¦ç‚¹ã€‘
...
ã€é“æ³•å…³è”ã€‘
...
ã€æ€è€ƒé—®é¢˜ã€‘
...
```

## æ–‡ä»¶ç»“æ„

```
dailynews/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ server.py          # Flask APIæœåŠ¡å™¨
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ collect/
â”‚       â””â”€â”€ chinanews_fetcher.py  # æ–°é—»é‡‡é›†å™¨
â”œâ”€â”€ src/
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ page.tsx      # é¦–é¡µï¼ˆä¹å®«æ ¼ï¼‰
â”‚       â””â”€â”€ layout.tsx    # å¸ƒå±€
â”œâ”€â”€ turso/
â”‚   â””â”€â”€ textbook_full.db # æ•°æ®åº“
â”œâ”€â”€ output/                   # JSONæŠ¥å‘Š
â””â”€â”€ PROJECT_PLAN.md           # é¡¹ç›®æ–‡æ¡£
```

## ç¤ºä¾‹

```bash
# æŸ¥çœ‹APIè¿”å›
curl http://localhost:5001/api/dates
curl "http://localhost:5001/api/news?date=2026-02-11"
```

## å®šæ—¶é‡‡é›†

```bash
# crontab -e
0 7 * * * cd /path/to/dailynews && python3 scripts/collect/chinanews_fetcher.py
```
